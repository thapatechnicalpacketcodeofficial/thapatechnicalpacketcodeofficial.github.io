!function(RY){if(!RY||!RY._v){var RY=RY||{};RY._v=1;var _cfg={DEBUG_ENABLED:!0,ALERT_ENABLED:!1,HTTP_PROTOCOL:document&&document.location&&document.location.protocol&&"https:"==document.location.protocol?"https://":"http://",HTTPS_ENABLED:!0,URI_ZONES:{EU:{API:"api.realytics.io",API_MOBILE:"m.realytics.io",XDM:"x.realytics.io",SYNC_USER:"tc-sync.realytics.io",SYNC_SESSION:"tp.realytics.io"},US:{API:"api-us-we.realytics.net",API_MOBILE:"api-us-we.realytics.net",XDM:"api-us-we.realytics.net",SYNC_USER:"api-us-we.realytics.net",SYNC_SESSION:"api-us-we.realytics.net"},PA:{API:"api-pa-ce.realytics.net",API_MOBILE:"api-pa-ce.realytics.net",XDM:"api-pa-ce.realytics.net",SYNC_USER:"api-pa-ce.realytics.net",SYNC_SESSION:"api-pa-ce.realytics.net"},SA:{API:"api.realytics.io",API_MOBILE:"m.realytics.io",XDM:"x.realytics.io",SYNC_USER:"tc-sync.realytics.io",SYNC_SESSION:"tp.realytics.io"}},LOGGER_ENABLED:!0,LOGGER_API_ENABLED:!1,XDM_ENABLED:!1,MAIN_INSTANCE:"realytics",OPTOUT_TIMEOUT:100,RDRCT_TIMEOUT:300,XDM_TIMEOUT:5e3,USER_DAYS:365,SESSION_MIN:30,URL_MAX_SIZE:2048,PAGE_HACK:!0},_={getTypeString:function(t){return Object.prototype.toString.call(t)},getTime:function(){return Math.round((new Date).getTime())},isNative:function(t){var e=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$");return"function"==typeof t&&e.test(t)}};_.isArray=_.isNative(Array.isArray)?Array.isArray:function(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"[object Array]"!=_.getTypeString(t))},_.isArrayNullOrEmpty=function(t){return!t||t.length<1},_.isDate=function(t){return!(!t||"object"!=typeof t||"[object Date]"!=_.getTypeString(t))},_.isFunction=function(t){return"function"==typeof t},_.isFunction(/x/)&&(_.isFunction=function(t){return"function"==typeof t&&"[object Function]"==_.getTypeString(t)}),_.isNull=function(t){return null===t},_.isNumber=function(t){return!!("number"==typeof t||t&&"object"==typeof t&&"[object Number]"==_.getTypeString(t))},_.isObject=function(t){return!(!t||"function"!=typeof t&&"object"!=typeof t)},_.isDomElement=function(t){return _.isObject(t)&&t.nodeType},_.isString=function(t){return!!("string"==typeof t||t&&"object"==typeof t&&"[object String]"==_.getTypeString(t))},_.isUndefined=function(t){return void 0===t},_.extend=function(t,e){if(t=t&&_.isObject(t)?t:{},e&&_.isObject(e))for(var n in e)t[n]=e[n];return t},_.reduce=function(t,e){var n;if("string"==typeof t)n=t.slice(0,e);else if(_.isArray(t)){n=[];for(var r=0;r<t.length;r++)n.push(_.reduce(t[r],e))}else if(_.isObject(t))for(var i in n={},t)n[i]=_.reduce(t[i],e);else n=t;return n},_.json=function(){return"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,c,s=gap,a=e[t];switch(a&&"object"==typeof a&&"function"==typeof a.toJSON&&(a=a.toJSON(t)),"function"==typeof rep&&(a=rep.call(e,t,a)),typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";if(gap+=indent,c=[],"[object Array]"===Object.prototype.toString.apply(a)){for(o=a.length,n=0;n<o;n+=1)c[n]=str(n,a)||"null";return i=0===c.length?"[]":gap?"[\n"+gap+c.join(",\n"+gap)+"\n"+s+"]":"["+c.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],a))&&c.push(quote(r)+(gap?": ":":")+i);else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a))&&c.push(quote(r)+(gap?": ":":")+i);return i=0===c.length?"{}":gap?"{\n"+gap+c.join(",\n"+gap)+"\n"+s+"}":"{"+c.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),{stringify:function(t){return JSON.stringify(t)},parse:function(t){return JSON.parse(t)},encode:function(t){return JSON.stringify(t)},decode:function(t){return JSON.parse(t)}}}(),_.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){for(var e,n,r,i,o="",c=0,s=(t=_.utf8.encode(t)).length;c<s;)n=c<s?t.charCodeAt(c++):null,r=c<s?t.charCodeAt(c++):null,i=c<s?t.charCodeAt(c++):null,e=n>>2,n=(3&n)<<4|(null!==r?r>>4:0),r=null!==r?(15&r)<<2|(null!==i?i>>6:0):64,i=null!==i?63&i:64,o=o+this._keyStr.charAt(e)+this._keyStr.charAt(n)+this._keyStr.charAt(r)+this._keyStr.charAt(i);return o},decode:function(t){var e,n,r,i,o,c="",s=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");s<t.length;)e=this._keyStr.indexOf(t.charAt(s++))<<2|(r=this._keyStr.indexOf(t.charAt(s++)))>>4,n=(15&r)<<4|(i=this._keyStr.indexOf(t.charAt(s++)))>>2,r=(3&i)<<6|(o=this._keyStr.indexOf(t.charAt(s++))),c+=String.fromCharCode(e),64!=i&&(c+=String.fromCharCode(n)),64!=o&&(c+=String.fromCharCode(r));return c=_.utf8.decode(c)}},_.utf8={encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):(127<r&&r<2048?e+=String.fromCharCode(r>>6|192):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128)),e+=String.fromCharCode(63&r|128))}return e},decode:function(t){for(var e="",n=0,r=c1=c2=0;n<t.length;)(r=t.charCodeAt(n))<128?(e+=String.fromCharCode(r),n++):191<r&&r<224?(c2=t.charCodeAt(n+1),e+=String.fromCharCode((31&r)<<6|63&c2),n+=2):(c2=t.charCodeAt(n+1),c3=t.charCodeAt(n+2),e+=String.fromCharCode((15&r)<<12|(63&c2)<<6|63&c3),n+=3);return e}},_.ryEncoder={encode:function(t){function r(t){function e(t){return t<10?"0"+t:t}var n;return t?(n=""+e(t.getUTCFullYear()),n+="-"+e(t.getUTCMonth()+1),n+="-"+e(t.getUTCDate()),n+="T"+e(t.getUTCHours()),n+=":"+e(t.getUTCMinutes()),n+=":"+e(t.getUTCSeconds())):null}var i=function(t){if(!_.isUndefined(t)&&t)if(_.isDate(t))t=r(t);else if(_.isArray(t)&&0<t.length)for(var e=0;e<t.length;e++)t[e]=i(t[e]);else if(_.isObject(t))for(var n in t)if(_.isDate(t[n]))t[n]=r(t[n]);else if(_.isArray(t[n])&&t[n]&&0<t[n].length)for(e=0;e<t[n].length;e++)t[n][e]=i(t[n][e]);else!_.isObject(t[n])||t.typeOf&&t[n]&&t[n]==t.typeOf||(t[n]=i(t[n]));return t},t=t?_.json.encode(i(t)):null;return t?_.base64.encode(t):null},decode:function(t){t=t?_.base64.decode(t):null;return t?_.json.decode(t):null}},_.domain={_current:document.location?document.location.hostname:null,getInfo:function(t){return t&&t==_.noOvrd?_.domain._current:t}},_.url={_current:document.location?document.location.href:null,getInfo:function(t){return t&&t==_.noOvrd?_.url._current:t},getParamValue:function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null===t||t.length<2||!t[1]?"":decodeURIComponent(t[1]).replace(/\+/g," ")}},_.campaign={_parameters:["utm_source","utm_medium","utm_campaign","utm_content","utm_term","xtor"],_getCampaign:function(t){for(var e={},n=0,r=_.campaign._parameters,i=0;i<r.length;i++){var o=r[i],c=t?_.url.getParamValue(t,o):null;c&&""!=c&&(e[o]=c,n++)}return n<1?null:e},getInfo:function(t){return _.campaign._getCampaign(t)}},_.env={_ua:navigator?navigator.userAgent:null,_cache:{browser:null,os:null,device:null,mobile:null},isBot:!(!navigator||!/(googlebot|mediapartners|bingpreview|baiduspider|yandexbot|google web preview)/i.test(navigator.userAgent)),_uaMatch:function(t){return t.test(_.env._ua)},_uaContains:function(t){return-1!=_.env._ua.indexOf(t)},getBrowser:function(){var t,e,n,r;return null==_.env._cache.browser&&(t=navigator.vendor||"",r=null,e=_.env._uaContains,n=_.env._uaMatch,r=e("Firefox")||n(/firefox/i)?"MozillaFirefox":e("MSIE")||n(/(msie|trident)/i)?"InternetExplorer":e("Chrome")||n(/chrome/i)?e("Android")||n(/crios/i)?"ChromeMobile":"Chrome":t&&-1!=t.indexOf("Apple")||n(/safari/i)&&!n(/phantom/i)?e("Mobile")?"SafariMobile":"Safari":window&&window.opera||n(/opera/i)||n(/opr/i)?e("Mini")?"OperaMini":"Opera":e("Gecko")?"MozillaGecko":n(/seamonkey\//i)?"SeaMonkey":n(/(BlackBerry|PlayBook|BB10)/i)?"BlackBerry":e("Konqueror")?"Konqueror":"",_.env._cache.browser=r),""==_.env._cache.browser?null:_.env._cache.browser},getOs:function(){var t,e;return null==_.env._cache.os&&(e=null,e=(t=_.env._uaMatch)(/Windows/i)?t(/Phone/)?"WindowsMobile":"Windows":t(/Mac/i)?"MacOS":t(/Linux/)?"Linux":t(/Unix/)?"Unix":t(/(iPhone|iPad|iPod)/)?"iOS":t(/Android/)?"Android":t(/(BlackBerry|PlayBook|BB10)/i)?"BlackBerry":"",_.env._cache.os=e),""==_.env._cache.os?null:_.env._cache.os},getDevice:function(){var t,e;return null==_.env._cache.device&&(e=null,e=(t=_.env._uaMatch)(/iPhone/)?"iPhone":t(/iPad/)?"iPad":t(/iPod/)?"iPod":t(/(BlackBerry|PlayBook|BB10)/i)?"BlackBerry":t(/Windows Phone/i)?"WindowsPhone":t(/Android/)?"AndroidDevice":null,_.env._cache.device=e),""==_.env._cache.device?null:_.env._cache.device},isMobile:function(){if(null==_.env._cache.mobile){var e=!1;try{e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}catch(t){e=!1}_.env._cache.mobile=!!e}return null==_.env._cache.mobile?null:_.env._cache.mobile},getInfo:function(){if(_.env._ua){var t={},e=_.env.getBrowser(),n=_.env.getDevice(),r=_.env.getOs(),i=_.env.isMobile();return e&&(t.browser=e),n&&(t.device=n),r&&(t.os=r),t.mobile=i,t}return null}},_.noOvrd=-1,_.referrer={_current:document?document.referrer:null,_top:function(){var e=null;try{e=window&&window.top&&window.top.document?window.top.document.referrer:null}catch(t){e=null}return e}(),getInfo:function(t,e,n){var r=_.referrer;if(!e||e!=_.noOvrd)return e;if(n){var i=!1;try{i=window.self!==window.top}catch(t){i=!0}try{return i?r._top:r._current}catch(t){return null}}else try{return r._current}catch(t){return null}}},_.searchEngine={_dico:{Google:{d:"google.([^/?]*)",p:"q",e:["email.google.([^/?]*)","storage.googleapis.([^/?]*)"]},Yahoo:{d:"yahoo.com",p:"p"},Bing:{d:"bing.com",p:"q"},Baidu:{d:"baidu.com",p:"wd"},Aol:{d:"aol.([^/?]*)",p:"q"},Ask:{d:"ask.com",p:"q"},Daum:{d:"daum.net",p:"q"},Dogpile:{d:"dogpile.com",p:"q"},Duckduckgo:{d:"duckduckgo.com",p:"q"},Lycos:{d:"lycos.([^/?]*)",p:"q"},Mynet:{d:"mynet.com",p:"query"},Naver:{d:"naver.com",p:"query"},Rambler:{d:"rambler.ru",p:"query"},Search:{d:"search.com",p:"q"},Seznam:{d:"seznam.cz",p:"q"},Virgilio:{d:"virgilio.it",p:"qs"},Voila:{d:"voila.fr",p:"kw"},WpPl:{d:"wp.pl",p:"q"},Yandex:{d:"yandex.com",p:"text"},Yam:{d:"yam.com",p:"k"}},_getEngine:function(t){var e=_.searchEngine,n=null;if(t)for(var r in e._dico)if(0==t.search("https?://(.*)"+e._dico[r].d)){var i=!0;if(e._dico[r].e)for(var o=0;o<e._dico[r].e.length;o++)if(0==t.search("https?://"+e._dico[r].e[o])){i=!1;break}i&&(n=r);break}return n||null},_getQuery:function(t,e){var n=_.searchEngine,e=e?n._dico[e].p:null,e=e?_.url.getParamValue(t,e):null;return(e&&0<e.length?e:null)||null},getInfo:function(t,e){e=_.searchEngine._getEngine(e);if(e){t=_.searchEngine._getQuery(t,e),e={engine:e};return t&&(e.query=t),e}return null}},_.getUIID=(Vb="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),function(){for(var t,e=Vb,n=new Array(36),r=0,i=0;i<36;i++)8==i||13==i||18==i||23==i?n[i]="-":14==i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19==i?3&t|8:t]);return n.join("")});var _logger=(ac=_,bc=_cfg,fc={setUserId:function(t){if(t){cc=t;try{bc.LOGGER_API_ENABLED&&!ac.isUndefined(window.trackJs)&&window.trackJs&&window.trackJs.configure&&window.trackJs.configure({userId:cc})}catch(t){}}},trace:function(t){bc.DEBUG_ENABLED&&dc(t,"trace")},debug:function(t){bc.DEBUG_ENABLED&&dc(t,"debug")},info:function(t){dc(t,"info")},warn:function(t){dc(t,"warn")},error:function(t,e){ec(t,e,"error")},fatal:function(t,e){ec(t,e,"fatal")}},fc),_listener=(Cc=_,Jc={onLoadedDone:!1,onScrolledDone:!1},Jc.onEvent=Ic,Jc.onScrolled=function(t){function e(){Jc.onScrolledDone||(Jc.onScrolledDone=!0,t())}Ic(window,"scroll",e),Ic(window,"touchmove",e)},Jc.onLoaded=function(t){var e=document,n=function(){Jc.onLoadedDone=!0,t()};if(e)if(e.addEventListener)e.readyState&&"complete"==e.readyState?n():Fc("DOMContentLoaded",n,!1);else if(e.attachEvent){Gc(e,"readystatechange",function(){e.readyState&&"complete"==e.readyState&&n()});try{window&&!Cc.isUndefined(window.frameElement)&&window.frameElement&&!Cc.isUndefined(e.documentElement)&&e.documentElement&&e.documentElement.doScroll&&!function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,10)}n()}()}catch(t){}}return Ic(window,"load",n),!0},Jc),_selector=(od=_,rd=function(t,e){var n=null;if(t){n=[];if(od.isArray(t)||e)for(var r,i=0;i<t.length;i++)(r=qd(t[i],!e))&&(n=n.concat(r));else(r=qd(t,!0))&&(n=n.concat(r))}return n&&0<n.length?n:null},sd={getDomElements:function(t){try{return rd(t)}catch(t){return _logger.error("Fail to get dom elements.",t),null}}},sd),Locker=function(){this._queue=[],this._locked=!1};Locker.prototype._exec=function(t){var e=this,n=0<this._queue.length?this._queue.shift():null;n?n(function(){e._exec(t)}):t()},Locker.prototype.lock=function(t){var e=this;e._queue.push(t),e._locked||(e._locked=!0,e._exec(function(){e._locked=!1}))};var _cookie=(Id=_,Kd=["ac.uk","co.uk","org.uk","me.uk","ltd.uk","plc.uk","net.uk","sch.uk","gov.uk","mod.uk","mil.uk","nhs.uk","police.uk","ac.nz","co.nz","geek.nz","gen.nz","kiwi.nz","maori.nz","net.nz","org.nz","school.nz","cri.nz","govt.nz","health.nz","iwi.nz","mil.nz","parliament.nz"],Pd={},Pd.write=Ld,Pd.read=function(t){var e=t+"=",n=document&&document.cookie?document.cookie.split(";"):null;if(n)for(var r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(e)){var o=i.substring(e.length,i.length);return o?decodeURIComponent(o):null}}return null},Pd.remove=function(t,e){return e=e,Ld(t,"",Id.getTime()+-864e5,e)},Pd.support=!navigator||!1!==navigator.cookieEnabled,Pd),LocalStorage=function(t,e,n,r){this._cu="ry_"+t+"_"+e,this._cud=_.getTime()+24*_cfg.USER_DAYS*60*60*1e3,this._cs="ry_"+t+"_so_"+e,this._csd=_.getTime()+60*_cfg.SESSION_MIN*1e3,this._stmd=!!n,r(_cookie.support)};LocalStorage.prototype.clearUser=function(t){_cookie.remove(this._cu,!this._stmd),t(!0)},LocalStorage.prototype.getUser=function(t){t(_cookie.read(this._cu))},LocalStorage.prototype.setUser=function(t,e){var n=(n=t?_.ryEncoder.decode(t):null)&&n.exp?n.exp:this._cud;_cookie.write(this._cu,t,n,!this._stmd),e(!0)},LocalStorage.prototype.clearSession=function(t){_cookie.remove(this._cs,!this._stmd),t(!0)},LocalStorage.prototype.getSession=function(t){t(_cookie.read(this._cs))},LocalStorage.prototype.setSession=function(t,e){_cookie.write(this._cs,t,this._csd,!this._stmd),e(!0)};var _xdm=(Ge=null,He=null,Ie=!1,Je=function(t,e){if(Ie){var n;null===He?n=setTimeout(function(){n&&clearTimeout(n),Je(t,e)},200):e(He)}else{Ie=!0;try{var r=(new Date).getTime(),i=t+"?ch="+r;(Ge=RYxdm&&RYxdm.noConflict?RYxdm.noConflict("ryXDM"+r.toString()):null)&&Ge.Rpc({remote:i,onReady:function(t){t&&null===He&&e(He=!0)}},{serializer:_.json,local:{},remote:{remove:{},write:{},read:{}}})}catch(t){e(He=!1)}var o=setTimeout(function(){null===He&&e(He=!1),o&&clearTimeout(o)},_cfg.XDM_TIMEOUT)}},Ke={init:function(t,e){Je(t,function(t){e(t)})},write:function(t,e,n,r,i){Je(t,function(t){t?Ge.write(e,n,r,function(t){i(!0)},function(t){i(!1)}):i(!1)})},read:function(t,e,n){Je(t,function(t){t?Ge.read(e,function(t){n(t||null)},function(t){n(null)}):n(null)})},remove:function(t,e,n){Je(t,function(t){t?Ge.remove(e,function(t){n(!0)},function(t){n(!1)}):n(!1)})}},Ke),XdmStorage=function(t,e,n,r){this._uk="ry_"+t+"_"+e,this._ud=24*_cfg.USER_DAYS*60*60*1e3,this._sk="ry_"+t+"_so_"+e,this._sd=60*_cfg.SESSION_MIN*1e3,this._url=n,_xdm.init(this._url,function(t){r(t)})};XdmStorage.prototype.clearUser=function(t){_xdm.remove(this._url,this._uk,t)},XdmStorage.prototype.getUser=function(t){_xdm.read(this._url,this._uk,t)},XdmStorage.prototype.setUser=function(t,e){_xdm.write(this._url,this._uk,t,this._ud,e)},XdmStorage.prototype.clearSession=function(t){_xdm.remove(this._url,this._sk,t)},XdmStorage.prototype.getSession=function(t){_xdm.read(this._url,this._sk,t)},XdmStorage.prototype.setSession=function(t,e){_xdm.write(this._url,this._sk,t,this._sd,e)};var Storage=function(t,e,n,r,i,o){this._inst="xdm"==t?new XdmStorage(e,n,r,o):new LocalStorage(e,n,i,o)};Storage.prototype.clearUser=function(e){try{return this._inst.clearUser(e)}catch(t){e(!1)}},Storage.prototype.getUser=function(e){try{return this._inst.getUser(e)}catch(t){e(null)}},Storage.prototype.setUser=function(t,e){try{return this._inst.setUser(t,e)}catch(t){e(!1)}},Storage.prototype.clearSession=function(e){try{return this._inst.clearSession(e)}catch(t){e(!1)}},Storage.prototype.getSession=function(e){try{return this._inst.getSession(e)}catch(t){e(null)}},Storage.prototype.setSession=function(t,e){try{return this._inst.setSession(t,e)}catch(t){e(!1)}};var ApiSync=function(t,e,n){this._apiKey=t,this._url=n,this._q=!1===e?[]:null,this._k={img:1,js:2}};ApiSync.prototype._createParam=function(t){var e=null;try{return t&&t.id&&this._apiKey&&(e=this._apiKey.toString().toLowerCase()+"|"+t.id.toString()+"|"+(t.cid?t.cid.toString():"")),_.base64.encode(e)}catch(t){return _logger.error("Fail to crypt param data.",t),null}},ApiSync.prototype._queuePush=function(t,e){this._q&&t&&e&&this._q.push({type:t,url:e})},ApiSync.prototype._queueClear=function(){if(this._q)for(var t=0;t<this._q.length;t++){var e=this._q[t];e&&this._syncWithTypeUrl(e.type,e.url)}this._q=null},ApiSync.prototype._syncExec=function(t,e){null==this._q?this._syncWithTypeUrl(t,e):this._queuePush(t,e)},ApiSync.prototype._syncWithTypeUrl=function(t,e){t&&e&&(t==this._k.img?this._syncWithImgEl(e):t==this._k.js&&this._syncWithJsEl(e))},ApiSync.prototype._syncWithImgEl=function(t){try{var e;t&&((e=document.createElement("img")).src=t,e.width=0,e.height=0,e.border="0",e.style.display="none",document.body.appendChild(e))}catch(t){_logger.error("Fail to sync data with img.",t)}},ApiSync.prototype._syncWithJsEl=function(t){try{var e,n;t&&((e=document.createElement("script")).type="text/javascript",e.async=!0,e.src=t,(n=document.getElementsByTagName("script")[0]).parentNode.insertBefore(e,n))}catch(t){_logger.error("Fail to sync data with js.",t)}},ApiSync.prototype.syncWithImg=function(t){try{var e=t?this._createParam(t):null;e&&this._url&&(e=this._url+"/"+encodeURIComponent(e),this._syncExec(this._k.img,e))}catch(t){_logger.error("Fail to sync user with img.",t)}},ApiSync.prototype.syncWithJs=function(t,e){try{var n=t?this._createParam(t):null;n&&this._url&&((n=this._url+"/"+encodeURIComponent(n)+e)&&this._syncExec(this._k.js,n))}catch(t){_logger.error("Fail to sync user with js.",t)}},ApiSync.prototype.enable=function(){try{this._queueClear()}catch(t){_logger.error("Fail to enable sync data.",t)}};var UserSync=function(t,e,n,r,i,o){this._apiKey=t,this._userApi=n?new ApiSync(t,e,r):null,this._tcApi=i?new ApiSync(t,e,o):null};UserSync.prototype.sync=function(t,e){try{var n;t&&this._userApi&&(n="",e&&(n+="?u="+encodeURIComponent(e.url||""),n+="&r="+encodeURIComponent(e.referrer||""),n+="&ts="+encodeURIComponent((new Date).getTime().toString())),this._userApi.syncWithJs(t,n)),t&&this._tcApi&&this._tcApi.syncWithImg(t)}catch(t){_logger.error("Fail to sync partner user.",t)}},UserSync.prototype.enable=function(){this._userApi&&this._userApi.enable(),this._tcApi&&this._tcApi.enable()};var SessionSync=function(t,e,n,r){this._apiKey=t,this._sessionApi=n?new ApiSync(t,e,r):null};SessionSync.prototype.sync=function(t,e,n,r){try{var i;t&&this._sessionApi&&(i="?ct="+(e?"1":"0"),i+="&rt="+(n?"1":"0"),r&&(i+="&u="+encodeURIComponent(r.url||""),i+="&r="+encodeURIComponent(r.referrer||""),i+="&ts="+encodeURIComponent((new Date).getTime().toString())),this._sessionApi.syncWithJs(t,i))}catch(t){_logger.error("Fail to sync partner session.",t)}},SessionSync.prototype.enable=function(){this._sessionApi&&this._sessionApi.enable()};var ActionSync=function(t){this._q=!1===t?[]:null};ActionSync.prototype._queuePush=function(t){this._q&&t&&this._q.push({action:t})},ActionSync.prototype._queueClear=function(){if(this._q)for(var t=0;t<this._q.length;t++){var e=this._q[t];e&&e.action&&e.action()}this._q=null},ActionSync.prototype.sync=function(t){try{t&&(null==this._q?t():this._queuePush(t))}catch(t){_logger.error("Fail to sync profile data.",t)}},ActionSync.prototype.enable=function(){try{this._queueClear()}catch(t){_logger.error("Fail to enable profile data.",t)}};var Event=function(t,e,n,r,i,o,c,s,a,l,u,_,f){if(this.c=t,this.t=e||(new Date).getTime(),c&&(this.mu={uid:c},s&&(this.mu.c_uid=s),a&&(this.mu.puid=a),l&&(this.mu.cu=l),u&&(u.firstname&&(this.mu.fn=u.firstname),u.lastname&&(this.mu.ln=u.lastname),u.gender&&(this.mu.g=u.gender),u.email&&(this.mu.e=u.email),u.created&&(this.mu.rd=u.created),u.birthdate&&(this.mu.b=u.birthdate))),n&&(this.data={n:n},r&&(this.data.v=r),i&&(this.data.tx=i),o&&(this.data.opts=o),_)){var d,h={};for(d in _){var p=d?_[d]:null;p&&p.id&&(h[d]={i:p.id},p.email&&(h[d].e=p.email),p.firstname&&(h[d].f=p.firstname),p.lastname&&(h[d].l=p.lastname),p.gender&&(h[d].g=p.gender),p.created&&(h[d].c=p.created),p.birthdate&&(h[d].b=p.birthdate),p.meta&&(h[d].m=p.meta))}this.data.pr=h}f&&(o={},f.url&&(o.u=f.url.length>_cfg.URL_MAX_SIZE?f.url.substr(0,_cfg.URL_MAX_SIZE):f.url),f.domain&&(o.d=f.domain),f.referrer&&(o.r=f.referrer.length>_cfg.URL_MAX_SIZE?f.referrer.substr(0,_cfg.URL_MAX_SIZE):f.referrer),f.se&&f.se.engine&&(o.se=f.se.engine),f.se&&f.se.query&&(o.sq=f.se.query),f.env&&f.env.browser&&(o.eb=f.env.browser),f.env&&f.env.device&&(o.ed=f.env.device),f.env&&f.env.os&&(o.eo=f.env.os),f.env&&(o.em=f.env.mobile),f.camp&&f.camp.utm_source&&(o.cs=f.camp.utm_source),f.camp&&f.camp.utm_medium&&(o.cm=f.camp.utm_medium),f.camp&&f.camp.utm_campaign&&(o.cc=f.camp.utm_campaign),f.camp&&f.camp.utm_content&&(o.co=f.camp.utm_content),f.camp&&f.camp.utm_term&&(o.ct=f.camp.utm_term),f.camp&&f.camp.xtor&&(o.cx=f.camp.xtor),o.son=!(!f.session||!f.session.origin),o.ro=f.session&&f.session.ref?f.session.ref.length>_cfg.URL_MAX_SIZE?f.session.ref.substr(0,_cfg.URL_MAX_SIZE):f.session.ref:null,this.mc={p:o})},User=function(t,e,n,r){this.id=t||"ry_"+_.getUIID(),this.cid=e||null,this.exp=n&&_.isNumber(n)?n:_.getTime()+24*_cfg.USER_DAYS*60*60*1e3,this.cs=r||null};User.prototype.toObject=function(){return{id:this.id,cid:this.cid,exp:this.exp,cs:this.cs}};var Session=function(t,e,n,r,i,o){this.id=t||null,this.cid=e||null,this.origin=!!n,this.ref=r||null,this.cont=i||null,this.ns=!!o};Session.prototype.toObject=function(){return{id:this.id,cid:this.cid,origin:this.origin,ref:this.ref,cont:this.cont,ns:this.ns}};var Api=function(t,e,n,r){this._apiKey=t,this._http=e,this._urlPost=n,this._urlGet=r,this._first=!0};Api.prototype._get=function(t,e){try{var n,r;t&&document&&!RY._ot&&((n=document.createElement("script")).type="text/javascript",n.async=!0,n.defer=!0,n.src=t,(r=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,r))}catch(t){_logger.error("Fail to exec GET request.",t),e()}},Api.prototype._post=function(t,e,n){try{if(t&&!RY._ot){var r=null,i=null;if(!_.isUndefined(window.XMLHttpRequest)&&window.XMLHttpRequest&&(r=new window.XMLHttpRequest)&&"withCredentials"in r?(i="XMLHttpRequest",r.open("POST",t,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","text/plain")):!_.isUndefined(window.XDomainRequest)&&window.XDomainRequest&&(i="XDomainRequest",(r=new window.XDomainRequest).open("POST",t)),i&&r){r.onreadystatechange=function(){try{4===this.readyState&&200!==this.status&&201!==this.status&&202!==this.status&&203!==this.status&&204!==this.status&&n(!0,{code:this.status,method:"POST",type:i,response:this.response,timeout:this.timeout})}catch(t){_logger.error("Fail to parse request response.",t),n(!0)}};try{r.send(e)}catch(t){_logger.error("Fail to send request.",t),n(!0)}}else _logger.debug("Fail to POST, so we'll try to do a GET."),n(!1)}}catch(t){_logger.error("Fail to exec request.",t),n(!0)}},Api.prototype._send_data=function(e,t){function n(){o._get(a,function(){_logger.error("Fail to track data="+(e||""))})}function r(){var t=_.env.getBrowser();t&&"OperaMini"==t?n():o._post(s,e,function(t,e){_logger.debug("Try GET after POST failed to send data code="+(e&&e.code?e.code:"")),n()})}var i,o=this,c="cb="+(new Date).getTime(),s=o._urlPost?o._http+o._urlPost+(o._urlGet.indexOf("?")<0?"?":"&")+c:null,a=o._urlGet?o._http+o._urlGet+(o._urlGet.indexOf("?")<0?"?":"&")+c+"&data="+encodeURIComponent(e):null;o._first?i=setTimeout(function(){clearTimeout(i),o._first=!1,r()},_cfg.OPTOUT_TIMEOUT):r()},Api.prototype._send=function(t){if(-1==_cfg.HTTP_PROTOCOL.indexOf("https")||_cfg.HTTPS_ENABLED){if(!t||!_.isObject(t))throw"Fail to serialize data to send";var e=!!(t&&t.mc&&t.mc.p&&t.mc.p.em),t=_.ryEncoder.encode(t);if(!t)throw"Fail to serialize data to send";this._send_data(t,e)}},Api.prototype.track=function(t){t&&t.mu&&this._send(t)};var _trStatus={disabled:0,pending:1,enabled:2},Tracker=function(t,e,n,r,i,o,c,s,a,l,u,f,d,h,p,g,y,m){var v=this;v._apiKey=t,v._ampCookieKey="ry_amp_"+t,v.ovrdDomain=s,v.ovrdUrl=a,v.ovrdReferrer=l,v.ovrdOrganic=u,v._status=n!=_trStatus.disabled?_trStatus.pending:_trStatus.disabled,v._ready=!1,v._name=e,v._actOrd=[],v._acts={consent:[],reject:[],identify:[],track:[],trackLink:[],trackForm:[],transaction:[],page:[],profile:[],sync:[]};var S=_cfg.HTTP_PROTOCOL,s=o&&_cfg.URI_ZONES[o.toString().toUpperCase()]?_cfg.URI_ZONES[o.toString().toUpperCase()]:_cfg.URI_ZONES.EU,a=i?i.indexOf("/event/track")?i.replace("/event/track",""):i:null,l=(a||(_.env.isMobile()?s.API_MOBILE:s.API))+"/event/track",u=(a||(_.env.isMobile()?s.API_MOBILE:s.API))+"/sync/consent",e=(a||(_.env.isMobile()?s.API_MOBILE:s.API))+"/sync/reject",o=S+(a||s.SYNC_USER)+"/sync/tc",i=S+(a||s.SYNC_USER)+"/sync/us",s=S+(a||s.SYNC_SESSION)+"/sync/se";t&&"ry-srewok"==t.toLowerCase()&&(l=null),v._api=new Api(t,S,l,l),v._apiC=new Api(t,S,u,u),v._apiR=new Api(t,S,e,e),v._storage=r,v._locker=new Locker;m=(m=y&&m&&(_.isString(m)||_.isNumber(m))?m.toString().replace(/^\s+|\s+$/g,""):null)&&"-1"!=m.toString()&&"0"!=m.toString()&&"null"!=m.toString().toLowerCase()?m:null;if(v._userEId=m,v._syncOnStart="auto"==h,v._syncOnActive="active"==h,v._syncOnConsent="consent"==h,v._syncRequested=!1,v._syncUs=new UserSync(t,v._syncOnStart,p,i,g,o),v._syncSe=new SessionSync(t,v._syncOnStart,!0,s),v._syncAc=new ActionSync(v._syncOnStart),v._status!=_trStatus.disabled){try{v._info={};var k=_.url.getInfo(v.ovrdUrl);k&&(v._info.url=k);var w=_.domain.getInfo(v.ovrdDomain);w&&(v._info.domain=w);w=_.referrer.getInfo(v._apiKey,v.ovrdReferrer,c);w&&(v._info.referrer=w);w=_.searchEngine.getInfo(k,w);w&&(v._info.se=w);w=_.env.getInfo();w&&(v._info.env=w);k=_.campaign.getInfo(k);k&&(v._info.camp=k)}catch(t){v._info={}}function b(){try{_logger.setUserId(v._user?v._user.id:null)}catch(t){_logger.error("Fail to configure logger user id.",t)}v._info.session=null,v._refresh(function(){try{d&&d(v._user?v._user.id:null)}catch(t){_logger.error("Fail to execute init callback.",t)}v._ready=!0,n==_trStatus.enabled&&(v.enable(),v.enableEvents())})}v._locker.lock(function(n){try{v._storage.getUser(function(t){var e=t?_.ryEncoder.decode(t):null,t=null;!e||!e.id||e&&e.exp&&_.isNumber(e.exp)&&e.exp<_.getTime()?(t=f||_cookie.read(v._ampCookieKey),v._user=t?new User(t):new User):(t=f||e.id,v._user=new User(t,e.cid||null,e.exp||null,e.cs||null),(v._syncOnStart||v._syncOnActive||v._syncOnConsent&&e.cs&&"1"==e.cs.toString())&&v._sync(!0));e=_.ryEncoder.encode(v._user.toObject());v._storage.setUser(e,function(t){n()}),v._syncUs.sync(v._user,{url:v._info.url||null,referrer:v._info.referrer||null}),b()})}catch(t){v._user=null,b(),n()}})}};Tracker.prototype.consent=function(){try{this._status==_trStatus.pending?this._queueAction("consent",arguments):this._status==_trStatus.enabled&&this._consent()}catch(t){_logger.error("Fail to consent.",t)}},Tracker.prototype._consent=function(){var t=this;try{var e=new Event(this._apiKey,(new Date).getTime(),"ry_consent",null,null,null,this._user?this._user.id:null,this._user?this._user.cid:null,this._userEId||null,null,null,null,this._info);this._apiC.track(e),t._refreshUserUp(function(t){return t?new User(t.id,t.cid,t.exp,1):null},function(){t._sync(!0)})}catch(t){_logger.error("Fail to track consent.",t)}},Tracker.prototype.disable=function(t){var e=this;e._status!=_trStatus.disabled&&(t&&e._locker.lock(function(t){e._storage.clearUser(function(){e._storage.clearSession(function(){t()})})}),e._status=_trStatus.disabled)},Tracker.prototype.enable=function(){var t,e=this;e._status==_trStatus.pending&&(e._ready?(e._shiftCalls(),e._status=_trStatus.enabled,e._shiftCalls()):t=setTimeout(function(){t&&clearTimeout(t),e.enable()},200))},Tracker.prototype.enableEvents=function(){var t,e=this;e._status==_trStatus.enabled?e._shiftEvents():(e._status==_trStatus.pending||_listener&&!_listener.onLoadedDone)&&(t=setTimeout(function(){t&&clearTimeout(t),e.enableEvents()},200))},Tracker.prototype.getUserId=function(){try{return this._user?this._user.id:null}catch(t){_logger.error("Fail to get user id.",t)}},Tracker.prototype.identify=function(e,t){try{this._status==_trStatus.pending?this._queueAction("identify",arguments):this._status==_trStatus.enabled&&this._identify(e,t)}catch(t){_logger.error("Fail to identify user="+(e?e.toString():""),t)}},Tracker.prototype._identify=function(t,e){try{var n,r=t&&(_.isString(t)||_.isNumber(t))?t.toString().replace(/^\s+|\s+$/g,""):null;(r=r&&"-1"!=r.toString()&&"0"!=r.toString()&&"null"!=r.toString().toLowerCase()?r:null)&&((n=!_.isUndefined(e)&&null!=e&&_.isObject(e)?e:{}).id=r,this._trackProfile({advertiser:n}))}catch(t){_logger.error("Fail to update user on identify.",t)}},Tracker.prototype.page=function(e,t,n){try{this._status==_trStatus.pending?this._queueAction("page",arguments):this._status==_trStatus.enabled&&this._page(e,t,n)}catch(t){_logger.error("Fail to track page="+(e?e.toString():""),t)}},Tracker.prototype._page=function(e,t,n){try{var r=!1;e&&_.isString(e)?r=!0:e=(i=_.url.getInfo(this.ovrdUrl))?i>_cfg.URL_MAX_SIZE?i.substr(0,_cfg.URL_MAX_SIZE):i:null;var i={page:e};t&&_.isString(t)&&(i.category=t),n&&_.isObject(n)&&(i.info=n),this._track("ry_page",i),r&&_cfg.PAGE_HACK&&this._track("ry_page_"+e)}catch(t){_logger.error("Fail to exec track page="+(e?e.toString():""),t)}},Tracker.prototype.profile=function(t){try{this._status==_trStatus.pending?this._queueAction("profile",arguments):this._status==_trStatus.enabled&&this._profile(t)}catch(t){_logger.error("Fail to profile user.",t)}},Tracker.prototype._profile=function(t){try{var e=this;e._refresh(function(){e._trackProfile(t)})}catch(t){_logger.error("Fail to update user profile.",t)}},Tracker.prototype.queue=function(t,e){try{if(!t||!_.isObject(t))return;this._queueActions(t,e)}catch(t){_logger.error("Fail to queue actions.",t)}},Tracker.prototype._queueActions=function(t,e){if(t&&_.isObject(t)){for(var n in t){var r;n&&"typeOf"!=n&&(r=t[n],this._acts[n]&&_.isArray(this._acts[n])?this._acts[n]=this._acts[n].concat(r&&_.isArray(r)?r:[]):_logger.warn("Fail to queue '"+n+"'."))}e&&_.isArray(e)&&(this._actOrd=this._actOrd.concat(e))}},Tracker.prototype._queueAction=function(t,e){if(t&&"typeOf"!=t)if(this._acts[t]&&_.isArray(this._acts[t])){var n=[];if(e&&0<e.length)for(var r=0;r<e.length;r++)n.push(e[r]);this._acts[t].push(n),this._actOrd.push(t)}else _logger.warn("Fail to queue '"+t+"'.")},Tracker.prototype.refreshContext=function(t){var e=this;try{t&&t.csid&&e._info&&e._info.session&&!e._info.session.cont&&e._refreshSessionCon(t,function(){e._refreshContextEnv()})}catch(t){_logger.error("Fail to refresh context.",t)}},Tracker.prototype._refreshContextEnv=function(){try{var t=this._info&&this._info.session&&this._info.session.cont?this._info.session.cont:null,e={};e.spotId=t&&t.csid?t.csid.toString():null,e.campaignId=t&&t.caid?t.caid.toString():null,e.channelId=t&&t.chid?t.chid.toString():null,e.channelName=t&&t.chn?t.chn.toString():null,e.creaId=t&&t.crid?t.crid.toString():null,window&&(window.RYcontext=e)}catch(t){_logger.error("Fail to refresh context env.",t)}},Tracker.prototype._refresh=function(n){var r=this;try{r._refreshSession(function(t){var e;t&&r._trackEvent("ry_session"),r._refreshContextEnv(),(t||r._info.session&&r._info.session.ns&&!r._syncRequested)&&(r._syncRequested=!0,e=!(!r._info.session||!r._info.session.origin),((t=!r._info.session.cont)||e)&&r._syncSe.sync(r._user,t,e,{url:r._info.url||null,referrer:r._info.referrer||null}),r._syncAc.sync(function(){r._trackProfileGA()}),r._syncAc.sync(function(){r._refreshSessionSync()})),n()})}catch(t){_logger.error("Fail to refresh user info.",t)}},Tracker.prototype._refreshSession=function(a){var l=this;l._locker.lock(function(s){function e(t){try{var e,n,r,i=null,o=!1,c=t?_.ryEncoder.decode(t):null;l._user&&(!c||!c.id||l._user.id&&l._user.id!=c.id||l._user.cid&&(!c.cid||l._user.cid!=c.cid)||!l._user.cid&&c.cid)?(i=c&&c.id?new Session(l._user.id,l._user.cid,c.origin,c.ref,c.cont,c.ns):(!(r=!(l._info&&(l._info.referrer&&(!l._info.se||!l._info.se.engine)||l._info.camp)))&&l._info&&l._info.url&&(e=_.url.getParamValue(l._info.url,"gclid"),n=_.url.getParamValue(l._info.url,"adurl"),r=!(!e&&!n)),_.isUndefined(l.ovrdOrganic)||null==l.ovrdOrganic||(r=!!l.ovrdOrganic),new Session(l._user.id,l._user.cid,r,this._info?this._info.referrer:null,null,!0)),o=!0,t=_.ryEncoder.encode(i.toObject())):(o=!1,i=c?new Session(c.id,c.cid,c.origin,c.ref,c.cont,c.ns):null),t?l._storage.setSession(t,function(t){s()}):s()}catch(t){_logger.error("Fail to refresh session.",t),o=!1,i=null,s()}l._info&&(l._info.session=i),a(o)}try{l._storage.getSession(function(t){e(t)})}catch(t){e(null)}})},Tracker.prototype._refreshSessionCon=function(e,t){e&&e.csid&&this._info&&this._info.session&&!this._info.session.cont&&this._refreshSessionUp(function(t){return t?new Session(t.id,t.cid,t.origin,t.ref,{csid:e.csid||null,caid:e.caid||null,chid:e.chid||null,crid:e.crid||null,chn:e.chn||null},t.ns):null},t)},Tracker.prototype._refreshSessionSync=function(){this._info&&this._info.session&&this._info.session.ns&&this._refreshSessionUp(function(t){return t?new Session(t.id,t.cid,t.origin,t.ref,t.cont,!1):null},function(){})},Tracker.prototype._refreshSessionUp=function(i,o){var c=this;c._locker.lock(function(r){function e(t){try{var e=t?_.ryEncoder.decode(t):null,n=i(e),e=n?_.ryEncoder.encode(n.toObject()):null;e?c._storage.setSession(e,function(t){c._info&&(c._info.session=n),r(),o()}):(r(),o())}catch(t){_logger.error("Fail to refresh session.",t),r(),o()}}try{c._storage.getSession(function(t){e(t)})}catch(t){e(null)}})},Tracker.prototype._refreshUserUp=function(i,o){var c=this;c._locker.lock(function(r){function e(t){try{var e=t?_.ryEncoder.decode(t):null,n=i(e);(t=n?_.ryEncoder.encode(n.toObject()):null)?c._storage.setUser(t,function(t){n&&n.id&&(c._user=n),r(),o()}):(r(),o())}catch(t){_logger.error("Fail to refresh user.",t),r(),o()}}try{c._storage.getUser(function(t){e(t)})}catch(t){e(null)}})},Tracker.prototype.reject=function(){try{this._status==_trStatus.pending?this._queueAction("reject",arguments):this._status==_trStatus.enabled&&this._reject()}catch(t){_logger.error("Fail to reject.",t)}},Tracker.prototype._reject=function(){try{var t=new Event(this._apiKey,(new Date).getTime(),"ry_reject",null,null,null,this._user?this._user.id:null,this._user?this._user.cid:null,this._userEId||null,null,null,null,this._info);this._apiR.track(t),this._refreshUserUp(function(t){return t?new User(t.id,t.cid,t.exp,2):null},function(){})}catch(t){_logger.error("Fail to track reject.",t)}},Tracker.prototype._shiftCalls=function(){var t=this;if(t._actOrd&&_.isArray(t._actOrd)&&0<t._actOrd.length){for(var e=[];0<t._actOrd.length;){var n=t._actOrd.shift();if(n&&_.isString(n))switch(n){case"consent":t._shiftAction("consent",t._consent);break;case"reject":t._shiftAction("reject",t._reject);break;case"identify":t._shiftAction("identify",t._identify);break;case"profile":t._shiftAction("profile",t._profile);break;case"page":t._shiftAction("page",t._page);break;case"track":t._shiftAction("track",t._track);break;case"transaction":t._shiftAction("transaction",t._transaction);break;case"sync":t._shiftAction("sync",t._sync);break;case"trackLink":case"trackForm":e.push(n)}}t._actOrd=e}this._shiftActions("consent",this._consent),this._shiftActions("reject",this._reject),this._shiftActions("identify",this._identify),this._shiftActions("profile",this._profile),this._shiftActions("page",this._page),this._shiftActions("track",this._track),this._shiftActions("transaction",this._transaction),this._shiftActions("sync",this._sync)},Tracker.prototype._shiftEvents=function(){var t=this;if(t._actOrd&&_.isArray(t._actOrd)&&0<t._actOrd.length){for(var e=[];0<t._actOrd.length;){var n=t._actOrd.shift();if(n&&_.isString(n))switch(n){case"consent":case"reject":case"identify":case"profile":case"page":case"track":case"transaction":case"sync":e.push(n);break;case"trackLink":t._shiftAction("trackLink",t._trackLink);break;case"trackForm":t._shiftAction("trackForm",t._trackForm)}}t._actOrd=e}this._shiftActions("trackLink",this._trackLink),this._shiftActions("trackForm",this._trackForm)},Tracker.prototype._shiftActions=function(t,e){if(this._acts&&t&&this._acts[t]&&_.isArray(this._acts[t]))for(;!_.isArrayNullOrEmpty(this._acts[t]);)this._shiftAction(t,e)},Tracker.prototype._shiftAction=function(t,e){t&&e&&this._acts[t]&&_.isArray(this._acts[t])&&0<this._acts[t].length&&(t=this._acts[t].shift(),e.apply(this,t))},Tracker.prototype.sync=function(){try{this._status==_trStatus.pending?this._queueAction("sync",arguments):this._status==_trStatus.enabled&&this._sync(!1)}catch(t){_logger.error("Fail to sync.",t)}},Tracker.prototype._sync=function(t){try{this._syncUs&&this._syncUs.enable(),this._syncSe&&this._syncSe.enable(),this._syncAc&&this._syncAc.enable(),t||this._trackProfileGA()}catch(t){_logger.error("Fail to start synchronizers.",t)}},Tracker.prototype.syncScroll=function(){try{this._syncOnActive&&this._sync(!0)}catch(t){_logger.error("Fail to enable synchronizers on scroll.",t)}},Tracker.prototype.track=function(e,t){try{this._status==_trStatus.pending?this._queueAction("track",arguments):this._status==_trStatus.enabled&&this._track(e,t)}catch(t){_logger.error("Fail to track event="+(e?e.toString():""),t)}},Tracker.prototype.trackSync=function(e,t){try{this._trackEvent(e,t)}catch(t){_logger.error("Fail to track sync event="+(e?e.toString():""),t)}},Tracker.prototype._track=function(e,t){var n=this;try{n._refresh(function(){n._trackEvent(e,t)})}catch(t){_logger.error("Fail to exec track event="+(e?e.toString():""),t)}},Tracker.prototype._trackEvent=function(t,e){try{if(t)if(_.isString(t)){var n=_.isUndefined(e)||null==e||_.isObject(e)?e:{value:e},r=null,i=null,o=null;if(n)for(var c in n)if(c){var s,a=n[c];switch(c.toString().toLowerCase()){case"transaction":!_.isUndefined(a)&&null!=a&&(_.isObject(a)||_.isNumber(a)||_.isString(a))&&(i={},_.isObject(a)?(s=a.amount,_.isUndefined(s)||null==s||!_.isNumber(s)&&!_.isString(s)||(i.am=s),s=a.orderId,_.isUndefined(s)||null==s||!_.isNumber(s)&&!_.isString(s)||(i.oid=s)):i.am=a);break;case"user":!_.isUndefined(a)&&null!=a&&_.isObject(a)&&(s=a.id,_.isUndefined(s)||null==s||!_.isNumber(s)&&!_.isString(s)||(s=(s=s&&(_.isString(s)||_.isNumber(s))?s.toString().replace(/^\s+|\s+$/g,""):null)&&"-1"!=s.toString()&&"0"!=s.toString()&&"null"!=s.toString().toLowerCase()?s:null)&&(o=s)),(r=r||{})[c]=a;break;default:(r=r||{})[c]=a}}var l=new Event(this._apiKey,(new Date).getTime(),t,r,i,null,this._user?this._user.id:null,o||(this._user?this._user.cid:null),this._userEId||null,null,null,null,this._info);this._api.track(l)}else _logger.warn("Unable to track, event not a string.");else _logger.warn("Unable to track, event not valid.")}catch(t){_logger.error("Fail to track event with api.",t)}},Tracker.prototype._trackProfile=function(t){try{var e,n=!_.isUndefined(t)&&null!=t&&_.isObject(t)?t:null,r={},i=!1;if(n)for(var o in n)if(o){var c=n[o.toString().toLowerCase()];if(c&&_.isObject(c))for(var s in r[o]={},c){var a=s.toString().toLowerCase(),l=c[s];switch(a){case"id":case"firstname":case"lastname":case"gender":case"email":case"created":case"birthdate":"id"==a&&(i=!0),r||(r[o]={}),r[o][a]=l;break;default:r||(r[o]={}),r.meta||(r[o].meta={}),r[o].meta[a]=l}}}i&&(e=new Event(this._apiKey,(new Date).getTime(),"ry_profile",null,null,null,this._user?this._user.id:null,this._user?this._user.cid:null,this._userEId||null,null,null,r,this._info),this._api.track(e))}catch(t){_logger.error("Fail to track identify with api.",t)}},Tracker.prototype._trackProfileGA=function(){try{function n(t){t&&!e._trackProfileGADone&&(e._trackProfile({ga:{id:t}}),e._trackProfileGADone=!0)}var e=this,r=setTimeout(function(){r&&clearTimeout(r);try{var t;window&&!_.isUndefined(window.ga)&&window.ga&&((t=window.ga.getAll&&window.ga.getAll()&&window.ga.getAll().length&&window.ga.getAll()[0]?window.ga.getAll()[0].get("clientId"):null)?n(t):window.ga(function(t){try{var e=t&&t.get?t.get("clientId"):null;(e=!e&&window.ga.getAll&&window.ga.getAll()&&window.ga.getAll().length&&window.ga.getAll()[0]?window.ga.getAll()[0].get("clientId"):e)&&n(e)}catch(t){_logger.error("Fail to exec ga profile.",t)}}))}catch(t){_logger.error("Fail to exec ga profile.",t)}},200)}catch(t){_logger.error("Fail to exec ga profile.",t)}},Tracker.prototype.trackLink=function(t,e,n){try{this._status==_trStatus.pending?this._queueAction("trackLink",arguments):this._status==_trStatus.enabled&&this._trackLink(t,e,n)}catch(t){_logger.error("Fail to track link.",t)}},Tracker.prototype._trackLink=function(t,e,n){try{var r=_selector.getDomElements(t);if(r&&_.isArray(r)&&1<=r.length)if(e)if(_.isString(e))for(var i=0;i<r.length;i++)r[i]&&this._trackLinkByElement(r[i],e,n);else _logger.warn("Unable to track link, event not a string.");else _logger.warn("Unable to track link, no event.")}catch(t){_logger.error("Fail to exec track link.",t)}},Tracker.prototype._trackLinkByElement=function(t,i,o){try{var c;t&&i&&(c=this,_listener.onEvent(t,"click",function(t,e){try{c.track(i,o);var n=e&&(e.which&&2===e.which||e.metaKey||e.ctrlKey)||t&&t.target&&"_blank"===t.target,r=t&&t.href?t.href:null;!n&&e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,setTimeout(function(){window&&!_.isUndefined(r)&&null!=r&&(window.location=r)},_cfg.RDRCT_TIMEOUT))}catch(t){_logger.error("Fail to track link after click.",t)}}))}catch(t){_logger.error("Fail to track link on click.",t)}},Tracker.prototype.trackForm=function(t,e,n){try{this._status==_trStatus.pending?this._queueAction("trackForm",arguments):this._status==_trStatus.enabled&&this._trackForm(t,e,n)}catch(t){_logger.error("Fail to track form.",t)}},Tracker.prototype._trackForm=function(t,e,n){try{var r=_selector.getDomElements(t);if(r&&_.isArray(r)&&1<=r.length)if(e)if(_.isString(e))for(var i=0;i<r.length;i++)r[i]&&this._trackFormByElement(r[i],e,n);else _logger.warn("Unable to track form, event not a string.");else _logger.warn("Unable to track form, no event.")}catch(t){_logger.error("Fail to track form.",t)}},Tracker.prototype._trackFormByElement=function(t,n,r){try{var i;t&&n&&(i=this,_listener.onEvent(t,"submit",function(t,e){try{i.track(n,r),e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,setTimeout(function(){t&&t.submit&&t.submit()},_cfg.RDRCT_TIMEOUT))}catch(t){_logger.error("Fail to track form after click.",t)}}))}catch(t){_logger.error("Fail to track form on click.",t)}},Tracker.prototype.transaction=function(t,e){try{this._status==_trStatus.pending?this._queueAction("transaction",arguments):this._status==_trStatus.enabled&&this._transaction(t,e)}catch(t){_logger.error("Fail to track transaction.",t)}},Tracker.prototype._transaction=function(t,e){try{var n;_.isUndefined(t)||null==t||!_.isNumber(t)&&!_.isString(t)?_logger.warn("Unable to track, no valid amount."):((n={}).transaction=e&&_.isObject(e)?e:{},n.transaction.amount=t,this._track("ry_transaction",n))}catch(t){_logger.error("Fail to track.",t)}};var Binder=function(t){this._ry=t,this._instances=[]};Binder.prototype.createTracker=function(t,e,w,n){n=function(t,e,n){var r=null,i=_.env.isBot||RY._ot||!_cookie.support?_trStatus.disabled:w,o=n&&_.isObject(n)?n:null,c=!!(o&&o.xdm&&_cfg.XDM_ENABLED),s=!(o&&!1===o.syncAuto),a=!(!o||!0!==o.syncManual),l=o&&o.syncType?o.syncType.toString().toLowerCase():null;l||(s&&!a?l="auto":s||a?a&&(l="manual"):l="active"),"auto"!=l&&"active"!=l&&"manual"!=l&&"consent"!=l&&(l="auto");var u=!(!o||!0!==o.storageMainDomain),f=["ry-br0v4113","ry-s0n41to2","ry-l4f02rfr","ry-l4f02rch","ry-th3f0rit","ry-t3f0rkbe","ry-t3f0rknl","ry-3ltenees","ry-loc2jui1","ry-fx33aenn","ry-021gos81","ry-h1m0ll4z","ry-b3l4mbra","ry-ty1rdrd3","ry-kj34qqz5","ry-och2w2l9"],d=!(!o||!o.syncUser);if(!d&&t&&f)for(var h=0;h<f.length;h++)if(f[h]&&f[h].toLowerCase()==t.toLowerCase()){d=!0;break}d=!!d;var p=!(!o||!o.syncTc),g=!(!o||!o.syncEu),y=o&&o.uidEu?o.uidEu.toString():null,m=o&&o.api&&_.isString(o.api)?o.api:null,v=o&&o.zone&&_.isString(o.zone)?o.zone:null,S=(v&&_cfg.URI_ZONES[v.toString().toUpperCase()]?_cfg.URI_ZONES[v.toString().toUpperCase()]:_cfg.URI_ZONES.EU).XDM,k=_cfg.HTTP_PROTOCOL+S+"/txd.html",n=new Storage(c?"xdm":"cookie",t,e,k,u,function(t){t||(i=_trStatus.disabled,r&&r.disable&&r.disable(!1))}),s=!(!o||!o.topReferrer),a=(a=o&&!_.isUndefined(o.domain)?o.domain:_.noOvrd)||null,S=(S=o&&!_.isUndefined(o.referrer)?o.referrer:_.noOvrd)||null,c=null!=(c=o&&!_.isUndefined(o.organic)?o.organic:null)?c:null,k=(k=o&&!_.isUndefined(o.url)?o.url:_.noOvrd)||null,u=(u=o&&!_.isUndefined(o.userId)&&o.userId&&(_.isString(o.userId)||_.isNumber(o.userId))?o.userId:null)?u.toString():null,o=o&&!_.isUndefined(o.onInit)?o.onInit:null,r=new Tracker(t,e,i,n,m,v,s,a,k,S,c,u,o,l,d,p,g,y);return{_disable:function(){return r.disable.apply(r,arguments)},_enable:function(){return r.enable.apply(r,arguments)},_enableEvents:function(){return r.enableEvents.apply(r,arguments)},_syncScroll:function(){return r.syncScroll.apply(r,arguments)},consent:function(){return r.consent.apply(r,arguments)},getUserId:function(){return r.getUserId.apply(r,arguments)},identify:function(){return r.identify.apply(r,arguments)},page:function(){return r.page.apply(r,arguments)},profile:function(){return r.profile.apply(r,arguments)},queue:function(){return r.queue.apply(r,arguments)},refreshContext:function(){return r.refreshContext.apply(r,arguments)},reject:function(){return r.reject.apply(r,arguments)},sync:function(){return r.sync.apply(r,arguments)},track:function(){return r.track.apply(r,arguments)},trackLink:function(){return r.trackLink.apply(r,arguments)},trackForm:function(){return r.trackForm.apply(r,arguments)},trackSync:function(){return r.trackSync.apply(r,arguments)},transaction:function(){return r.transaction.apply(r,arguments)}}}(t,e,n);return this._instances.push(n),n},Binder.prototype.bindMainInstance=function(t){var e=this._ry[_cfg.MAIN_INSTANCE]=t;this._ry.consent=function(){return e.consent.apply(e,arguments)},this._ry.getUserId=function(){return e.getUserId.apply(e,arguments)},this._ry.identify=function(){return e.identify.apply(e,arguments)},this._ry.page=function(){return e.page.apply(e,arguments)},this._ry.profile=function(){return e.profile.apply(e,arguments)},this._ry.refreshContext=function(){return e.refreshContext.apply(e,arguments)},this._ry.reject=function(){return e.reject.apply(e,arguments)},this._ry.sync=function(){return e.sync.apply(e,arguments)},this._ry.track=function(){return e.track.apply(e,arguments)},this._ry.trackLink=function(){return e.trackLink.apply(e,arguments)},this._ry.trackForm=function(){return e.trackForm.apply(e,arguments)},this._ry.trackSync=function(){return e.trackSync.apply(e,arguments)},this._ry.transaction=function(){return e.transaction.apply(e,arguments)}},Binder.prototype.bindAllInstances=function(){if(this._ry._q)for(var t in this._ry._q){var e=this._ry._q[t].init;_.isArrayNullOrEmpty(e)||(_.isArrayNullOrEmpty(e[0])?_logger.warn("Fail to init new tracker, no api key."):(this._ry[t]=this.createTracker(e[0][0],t,_trStatus.pending,1<e[0].length&&e[0][1]&&_.isObject(e[0][1])?e[0][1]:null),t==_cfg.MAIN_INSTANCE&&this.bindMainInstance(this._ry[t])),this._ry._q[t].init=null)}},Binder.prototype.bindAllActions=function(){if(this._ry._q){for(var t in this._ry._q){var e,n,r={},i=null;for(e in this._ry._q[t])e&&_.isString(e)&&(n=[],this._ry._q[t][e]&&(n=this._ry._q[t][e]),"init"==e||"_q"==e||"page"!=e&&"consent"!=e&&"reject"!=e&&"identify"!=e&&"profile"!=e&&"sync"!=e&&"track"!=e&&"transaction"!=e&&"trackLink"!=e&&"trackForm"!=e||(r[e]=n),"_q"==e&&(i=n));this._ry[t]&&this._ry[t].queue&&this._ry[t].queue(r,i),this._ry._q[t]=null,this._ry[t]&&this._ry[t]._enable&&this._ry[t]._enable()}this._ry._q={}}},Binder.prototype.bindAllActionsEvent=function(){if(this._instances)for(var t=0;t<this._instances.length;t++){var e=this._instances[t];e&&e._enableEvents&&e._enableEvents()}},Binder.prototype.bindAllActionsScroll=function(){if(this._instances)for(var t=0;t<this._instances.length;t++){var e=this._instances[t];e&&e._syncScroll&&e._syncScroll()}};try{var _binder=new Binder(RY);function onDomLoaded(){try{onDomLoaded.set||(onDomLoaded.set=!0,_binder.bindAllActionsEvent())}catch(t){_logger.error("Fail to bind tracker on DOM loaded.",t)}}function onDomScrolled(){try{onDomScrolled.set||(onDomScrolled.set=!0,_binder.bindAllActionsScroll())}catch(t){_logger.error("Fail to bind tracker on DOM scrolled.",t)}}_binder.bindAllInstances(),RY._otf=function(){try{for(var t in RY._ot=1,RY)_.isObject(RY[t])&&_.isFunction(RY[t]._disable)&&RY[t]._disable(!0)}catch(t){_logger.error("Fail to disable tracker.",t)}},RY.init=function(t,e){try{var n=e?_.isObject(e)&&e.name?e.name:null:_.isString(e)?e:null;if(!t)return void _logger.warn("Fail to init, invalid apiKey.");n=n||_cfg.MAIN_INSTANCE;RY[n]||(RY[n]=_binder.createTracker(t,n,_trStatus.enabled,e&&_.isObject(e)?e:null),n==_cfg.MAIN_INSTANCE&&_binder.bindMainInstance(RY[n]))}catch(t){_logger.error("Fail to init with apiKey.",t)}},_binder.bindAllInstances(),_binder.bindAllActions(),_listener.onLoaded(onDomLoaded),_listener.onScrolled(onDomScrolled)}catch(err){_logger.error("Fail to init SDK.",err)}}var Ge,He,Ie,Je,Ke,Id,Kd,Pd,od,rd,sd,Cc,Jc,ac,bc,cc,fc,Vb;function Ld(t,e,n,r){var i=new Date;if(i.setTime(n),n=i.toGMTString(),i=e?encodeURIComponent(e):"",e="",r){var r=document&&document.location&&document.location.hostname?document.location.hostname:null,o=r?r.split("."):null,c=o&&0<o.length?o[o.length-1]:null;if((c=c&&1<o.length?o[o.length-2]+"."+c:c)&&2<o.length)for(var s=0;s<Kd.length;s++)if(0==c.toLowerCase().indexOf(Kd[s])){c=o[o.length-3]+"."+c;break}r=c||null,e=r?"; domain=."+r:""}return!!document&&(document.cookie=t+"="+i+"; expires="+n+"; path=/"+e,!0)}function qd(t,e){var n=null;return t&&(e&&od.isString(t)||(od.isDomElement(t)?n=[t]:e&&od.isObject(t)&&t.length&&(n=rd(t,!0)))),n&&0<n.length?n:null}function Ec(r,i,o){return function(t){t=t||(window?window.event:null);var e=!0;try{t&&(e=!o||!Cc.isFunction(o)||o(t))}catch(t){_logger.error("Fail to exec old handler.",t),e=!0}var n=i.call(r,t);return!(!Cc.isUndefined(e)&&!1===e||!Cc.isUndefined(n)&&!1===n)}}function Fc(e,t,n){return!!(e&&t&&n&&e.addEventListener)&&(e.addEventListener(t,function(t){return n(e,t)},!1),!0)}function Gc(t,e,n){return!!(t&&e&&n&&t.attachEvent)&&(t.attachEvent("on"+e,Ec(t,n)),!0)}function Ic(t,e,n){return!!(t&&e&&n&&(Fc(t,e,n)||Gc(t,e,n)||function(t,e,n){if(n){e="on"+e;return t[e]=Ec(t,n,t[e]),!0}}(t,e,n)))}function dc(t,e){try{var n=!(!bc.LOGGER_API_ENABLED||ac.isUndefined(window.RYlogger)||!window.RYlogger||!window.RYlogger.push);bc.LOGGER_ENABLED&&(n||!ac.isUndefined(window.console)&&window.console&&window.console.log)&&t&&((!n&&e&&"warn"==e?function(t){window.console.warn?window.console.warn(t):window.console.log(t)}:n||!e||"error"!=e&&"fatal"!=e?function(t){n?window.RYlogger.push({text:t,level:e,domain:document.location?document.location.hostname:null,browser:ac.env.getBrowser(),device:ac.env.getDevice(),os:ac.env.getOs(),mobile:ac.env.isMobile()}):window.console.log(t)}:function(t){window.console.error?window.console.error(t):window.console.log(t)})("["+e.toUpperCase()+"] "+t.toString()),bc.ALERT_ENABLED&&(!ac.isUndefined(window.console)&&window.console&&window.console.log&&window.console.log("["+e.toUpperCase()+"] "+t.toString()),!ac.isUndefined(alert)&&alert&&alert("["+e.toUpperCase()+"] "+t.toString())))}catch(t){}}function ec(t,e,n){t=t||null,e&&(t+="\n[Exception] "+(e.name&&(e.message||e.description)?(e.name?"["+e.name+"] ":"")+(e.message||"")+(!e.message&&e.description?e.description:""):e.toString())),dc(t,n)}}(window.RY||{});
